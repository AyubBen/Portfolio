



codeally@def3baa3ae97:~/project$ psql --username=freecodecamp --dbname=postgres
psql (12.9 (Ubuntu 12.9-2.pgdg20.04+1))
Type "help" for help.

postgres=> CREATE TABLE worldcup();
CREATE TABLE
postgres=> \c worldcup
connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: FATAL:  database "worldcup" does not exist
Previous connection kept
postgres=> \list
                               List of databases
     Name     |  Owner   | Encoding | Collate |  Ctype  |   Access privileges   
--------------+----------+----------+---------+---------+-----------------------
 postgres     | postgres | UTF8     | C.UTF-8 | C.UTF-8 | 
 template0    | postgres | UTF8     | C.UTF-8 | C.UTF-8 | =c/postgres          +
              |          |          |         |         | postgres=CTc/postgres
 template1    | postgres | UTF8     | C.UTF-8 | C.UTF-8 | =c/postgres          +
              |          |          |         |         | postgres=CTc/postgres
 worldcuptest | postgres | UTF8     | C.UTF-8 | C.UTF-8 | 
(4 rows)

postgres=> CREATE DATABASE worldcup;
CREATE DATABASE
postgres=> \c worldcup
You are now connected to database "worldcup" as user "freecodecamp".

worldcup=> CREATE TABLE teams();
CREATE TABLE

worldcup=> CREATE TABLE games();
CREATE TABLE

worldcup=> ALTER TABLE teams ADD COLUMN team_id SERIAL PRIMARY KEY;
ALTER TABLE

worldcup=> ALTER TABLE teams ADD COLUMN name SERIAL UNIQUE;
ALTER TABLE

worldcup=> ALTER TABLE games ADD COLUMN game_id SERIAL PRIMARY KEY;
ALTER TABLE

worldcup=> ALTER TABLE games ADD COLUMN year INT;
ALTER TABLE

worldcup=> ALTER TABLE games ADD COLUMN round VARCHAR;
ALTER TABLE

worldcup=> \d
                  List of relations
 Schema |       Name        |   Type   |    Owner     
--------+-------------------+----------+--------------
 public | games             | table    | freecodecamp
 public | games_game_id_seq | sequence | freecodecamp
 public | teams             | table    | freecodecamp
 public | teams_name_seq    | sequence | freecodecamp
 public | teams_team_id_seq | sequence | freecodecamp
(5 rows)

worldcup=> \d games
                                    Table "public.games"
 Column  |       Type        | Collation | Nullable |                Default                 
---------+-------------------+-----------+----------+----------------------------------------
 game_id | integer           |           | not null | nextval('games_game_id_seq'::regclass)
 year    | integer           |           |          | 
 round   | character varying |           |          | 
Indexes:
    "games_pkey" PRIMARY KEY, btree (game_id)


worldcup=> ALTER TABLE games ADD COLUMN winner_goals INT;
ALTER TABLE

worldcup=> ALTER TABLE games ADD COLUMN opponent_goals INT;
ALTER TABLE
worldcup=> \d
                  List of relations
 Schema |       Name        |   Type   |    Owner     
--------+-------------------+----------+--------------
 public | games             | table    | freecodecamp
 public | games_game_id_seq | sequence | freecodecamp
 public | teams             | table    | freecodecamp
 public | teams_name_seq    | sequence | freecodecamp
 public | teams_team_id_seq | sequence | freecodecamp
(5 rows)

worldcup=> \d games
                                        Table "public.games"
     Column     |       Type        | Collation | Nullable |                Default                 
----------------+-------------------+-----------+----------+----------------------------------------
 game_id        | integer           |           | not null | nextval('games_game_id_seq'::regclass)
 year           | integer           |           |          | 
 round          | character varying |           |          | 
 winner_goals   | integer           |           |          | 
 opponent_goals | integer           |           |          | 
Indexes:
    "games_pkey" PRIMARY KEY, btree (game_id)


worldcup=> ALTER TABLE games ADD COLUMN winner_id INT NOT NULL;
ALTER TABLE

worldcup=> ALTER TABLE games ADD FOREIGN KEY(winner_id) REFERENCES teams(team_id);
ALTER TABLE

worldcup=> ALTER TABLE games ADD COLUMN opponent_id INT NOT NULL;
ALTER TABLE

worldcup=> ALTER TABLE games ADD FOREIGN KEY(opponent_id) REFERENCES teams(team_id);
ALTER TABLE

worldcup=> \d games
                                        Table "public.games"
     Column     |       Type        | Collation | Nullable |                Default                 
----------------+-------------------+-----------+----------+----------------------------------------
 game_id        | integer           |           | not null | nextval('games_game_id_seq'::regclass)
 year           | integer           |           |          | 
 round          | character varying |           |          | 
 winner_goals   | integer           |           |          | 
 opponent_goals | integer           |           |          | 
 winner_id      | integer           |           | not null | 
 opponent_id    | integer           |           | not null | 
Indexes:
    "games_pkey" PRIMARY KEY, btree (game_id)
Foreign-key constraints:
    "games_opponent_id_fkey" FOREIGN KEY (opponent_id) REFERENCES teams(team_id)
    "games_winner_id_fkey" FOREIGN KEY (winner_id) REFERENCES teams(team_id)


worldcup=> ALTER TABLE games DROP COLUMN year;
ALTER TABLE

worldcup=> ALTER TABLE games ADD COLUMN year INT NOT NULL;
ALTER TABLE

worldcup=> ALTER TABLE games DROP COLUMN round;
ALTER TABLE

worldcup=> ALTER TABLE games ADD COLUMN round VARCHAR NOT NULL;
ALTER TABLE

worldcup=> ALTER TABLE games DROP COLUMN winner_id;
ALTER TABLE

worldcup=> ALTER TABLE games ADD COLUMN winner_id INT NOT NULL;
ALTER TABLE

worldcup=> ALTER TABLE games DROP COLUMN winner_goals;
ALTER TABLE

worldcup=> ALTER TABLE games DROP COLUMN opponent_goals;
ALTER TABLE

worldcup=> ALTER TABLE games ADD COLUMN winner_goals INT NOT NULL;
ALTER TABLE

worldcup=> ALTER TABLE games ADD COLUMN opponent_goals INT NOT NULL;
ALTER TABLE

worldcup=> \d games
                                        Table "public.games"
     Column     |       Type        | Collation | Nullable |                Default                 
----------------+-------------------+-----------+----------+----------------------------------------
 game_id        | integer           |           | not null | nextval('games_game_id_seq'::regclass)
 opponent_id    | integer           |           | not null | 
 year           | integer           |           | not null | 
 round          | character varying |           | not null | 
 winner_id      | integer           |           | not null | 
 winner_goals   | integer           |           | not null | 
 opponent_goals | integer           |           | not null | 
Indexes:
    "games_pkey" PRIMARY KEY, btree (game_id)
Foreign-key constraints:
    "games_opponent_id_fkey" FOREIGN KEY (opponent_id) REFERENCES teams(team_id)

worldcup=> \d teams
                               Table "public.teams"
 Column  |  Type   | Collation | Nullable |                Default                 
---------+---------+-----------+----------+----------------------------------------
 team_id | integer |           | not null | nextval('teams_team_id_seq'::regclass)
 name    | integer |           | not null | nextval('teams_name_seq'::regclass)
Indexes:
    "teams_pkey" PRIMARY KEY, btree (team_id)
    "teams_name_key" UNIQUE CONSTRAINT, btree (name)
Referenced by:
    TABLE "games" CONSTRAINT "games_opponent_id_fkey" FOREIGN KEY (opponent_id) REFERENCES teams(team_id)

worldcup=> 

worldcup=> ALTER TABLE games ADD FOREIGN KEY (winner_id) REFERENCES teams(team_id);
ALTER TABLE
worldcup=> ALTER TABLE games ADD FOREIGN KEY (opponent_id) REFERENCES teams(team_id);
ALTER TABLE







year,round,winner,opponent,winner_goals,opponent_goals
2018,Final,France,Croatia,4,2
2018,Third Place,Belgium,England,2,0
2018,Semi-Final,Croatia,England,2,1
2018,Semi-Final,France,Belgium,1,0
2018,Quarter-Final,Croatia,Russia,3,2
2018,Quarter-Final,England,Sweden,2,0
2018,Quarter-Final,Belgium,Brazil,2,1
2018,Quarter-Final,France,Uruguay,2,0
2018,Eighth-Final,England,Colombia,2,1
2018,Eighth-Final,Sweden,Switzerland,1,0
2018,Eighth-Final,Belgium,Japan,3,2
2018,Eighth-Final,Brazil,Mexico,2,0
2018,Eighth-Final,Croatia,Denmark,2,1
2018,Eighth-Final,Uruguay,Portugal,2,1
2018,Eighth-Final,France,Argentina,4,3
2014,Final,Germany,Argentina,1,0
2014,Third Place,Netherlands,Brazil,3,0
2014,Semi-Final,Argentina,Netherlands,1,0
2014,Semi-Final,Germany,Brazil,7,1
2014,Quarter-Final,Netherlands,Costa Rica,1,0
2014,Quarter-Final,Argentina,Belgium,1,0
2014,Quarter-Final,Brazil,Colombia,2,1
2014,Quarter-Final,Germany,France,1,0
2014,Eighth-Final,Brazil,Chile,2,1
2014,Eighth-Final,Colombia,Uruguay,2,0
2014,Eighth-Final,France,Nigeria,2,0
2014,Eighth-Final,Germany,Algeria,2,1
2014,Eighth-Final,Netherlands,Mexico,2,1
2014,Eighth-Final,Costa Rica,Greece,2,1
2014,Eighth-Final,Argentina,Switzerland,1,0
2014,Eighth-Final,Belgium,United States,2,1


$($PSQL "INSERT INTO games(year, round, winner_goals, opponent_goals) VALUES(2018, 'Final', 4, 2), (2018, 'Third Place', 2, 0),
(2018, 'Semi-Final', 2, 1), (2018, 'Semi-Final', 1, 0), (2018, 'Quarter-Final', 3, 2), (2018, 'Quarter-Final', 2, 0),
(2018, 'Quarter-Final', 2, 1), (2018, 'Quarter-Final', 2, 0), (2018, 'Eighth-Final', 2, 1), (2018, 'Eighth-Final, 1, 0),
(2018, 'Eighth-Final', 3, 2), (2018, 'Eighth-Final', 2, 0), (2018, 'Eighth-Final', 2, 1), (2018, 'Eighth-Final', 2, 1),
(2018, 'Eighth-Final', 4, 3), (2014, 'Final', 1, 0), (2014, 'Third Place', 3, 0), (2014, 'Semi-Final', 1, 0), (2014, 'Semi-Final', 7, 1),
(2014, 'Quarter-Final', 1, 0), (2014, 'Quarter-Final', 1, 0), (2014, 'Quarter-Final', 2, 1), (2014, 'Quarter-Final', 1, 0), (2014, 'Eighth-Final', 2, 1),
(2014, 'Eighth-Final', 2, 0), (2014, 'Eighth-Final', 2, 0), (2014, 'Eighth-Final', 2, 1), (2014, 'Eighth-Final', 2, 1), (2014, 'Eighth-Final', 2, 1),
(2014, 'Eighth-Final', 1, 0), (2014, 'Eighth-Final', 2, 1)")
